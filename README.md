# Huffman Archiver

Консольная утилита для сжатия и распаковки текстовых и бинарных файлов с использованием алгоритма Хаффмана. Программа анализирует частоту символов, строит бинарное дерево и сохраняет сжатые данные вместе с необходимой для распаковки информацией.

## Особенности

*   **Алгоритм Хаффмана:** Эффективное сжатие текстовых и бинарных данных.
*   **Сохранение метаданных:** Оригинальное имя файла сохраняется в заголовке архива. При распаковке файл восстанавливается с исходным названием автоматически.
*   **Отсутствие зависимостей:** Использует только стандартную библиотеку Python.

## Требования

*   Python 3.6 или выше.

## Установка

Склонируйте репозиторий или скачайте файлы проекта в одну папку:
*   `huffman.py`
*   `archiver.py`
*   `unpacker.py`
*   `tree.py`
*   `node.py`
*   `counter.py`

## Использование

Запуск осуществляется через файл `huffman.py`.

### Архивация (Сжатие)

Для сжатия файла используйте флаг `-a` (или `--archive`) и укажите путь к файлу:

```bash
python huffman.py -a my_document.txt
```

**Результат:** В той же директории будет создан файл `my_document.txt.huff`.

### Распаковка

Для распаковки архива используйте флаг `-u` (или `--unpack`) и укажите путь к `.huff` файлу:

```bash
python huffman.py -u my_document.txt.huff
```

**Результат:** Программа прочитает заголовок архива и восстановит файл под его оригинальным именем (например, `my_document.txt`).

### Справка

Чтобы увидеть список всех доступных команд:

```bash
python huffman.py --help
```

## Структура проекта

*   **`huffman.py`**: Точка входа (CLI). Обрабатывает аргументы командной строки и вызывает архиватор или распаковщик.
*   **`archiver.py`**: Отвечает за логику сжатия. Считает частоты, создает коды, записывает заголовок (включая имя файла и таблицу частот) и сжатые биты.
*   **`unpacker.py`**: Отвечает за логику распаковки. Читает заголовок, восстанавливает дерево Хаффмана и декодирует данные.
*   **`tree.py`**: Реализация построения дерева Хаффмана на основе очереди с приоритетом.
*   **`node.py`**: Класс узла дерева.
*   **`counter.py`**: Вспомогательный класс для подсчета частоты символов в файле.

## Формат файла (.huff)

Архив имеет следующую структуру (бинарный вид):
1.  **Padding (1 байт)**: Количество бит, добавленных в конец файла для выравнивания байта.
2.  **Длина имени файла (2 байта)**: `unsigned short`.
3.  **Имя файла (N байт)**: Исходное название файла в кодировке UTF-8.
4.  **Размер словаря (2 байта)**: Количество уникальных символов.
5.  **Словарь частот**: Последовательность записей (длина символа, сам символ, частота встречаемости).
6.  **Сжатые данные**: Основной поток бит.